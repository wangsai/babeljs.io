<!DOCTYPE html><html lang="en" class="no-js"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>5.0.0 Released · Babel</title><meta name="description" content="In the past few months Babel has been welcomed into several major communitiessuch as Node, React, Ember, Backbone, Angular, Rails, and many others. Welaunche..."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"><link rel="stylesheet" href="/css/main.css?t=2017-11-02T12:02:17+00:00"><link rel="canonical" href="https://babel.docschina.org//blog/2015/03/31/5.0.0.html"><link rel="alternate" type="application/rss+xml" title="Babel" href="https://babel.docschina.org//feed.xml" /><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="og:url" content="https://babeljs.io/"><meta name="og:image" content="website"><meta name="og:title" content="5.0.0 Released · Babel"><meta name="og:description" content="In the past few months Babel has been welcomed into several major communitiessuch as Node, React, Ember, Backbone, Angular, Rails, and many others. Welaunche..."><meta name="og:image" content="https://babeljs.io/images/share-image.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@babeljs"><meta name="twitter:title" content="5.0.0 Released · Babel"><meta name="twitter:description" content="In the past few months Babel has been welcomed into several major communitiessuch as Node, React, Ember, Backbone, Angular, Rails, and many others. Welaunche..."><meta name="twitter:image:src" content="https://babeljs.io/images/share-image.png"><meta name="twitter:url" content="https://babel.docschina.org//blog/2015/03/31/5.0.0.html"></head><input type="checkbox" id="babel-toggle-search" class="babel-toggle-search-checkbox" /><header class="navbar navbar-default navbar-fixed-top babel-nav" id="top" role="banner"><div class="container"> <a href="/" class="navbar-brand logo">Babel</a><div class="babel-navbar-toggles"><div class="navbar-header"> <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#babel-navbar" aria-controls="babel-navbar" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <label for="babel-toggle-search" class="navbar-toggle babel-toggle-search-open"> <span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> </label></div></div><nav id="babel-navbar" class="collapse navbar-collapse babel-navbar"><ul class="nav navbar-nav"><li > <a href="/learn-es2015/">学习 ES2015</a></li><li class="dropdown "> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">文档 <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li > <a href="/docs/setup/">配置</a></li><li > <a href="/docs/editors.html">编辑器</a></li><li > <a href="/docs/usage/caveats/">注意事项</a></li><li > <a href="/docs/community/videos/">视频</a></li><li class="group-name">相关依赖</li><li > <a href="/docs/core-packages/">babel-core</a></li><li > <a href="/docs/usage/polyfill/">babel-polyfill</a></li><li > <a href="/docs/plugins/">Plugins</a></li><li class="group-name">使用方式</li><li > <a href="/docs/usage/babelrc/">.babelrc</a></li><li > <a href="/docs/usage/cli/">babel-cli</a></li><li > <a href="/docs/usage/babel-register/">babel-register</a></li><li > <a href="/docs/usage/api/">API</a></li></ul></li><li > <a href="/repl/">试用</a></li><li class="active"> <a href="/blog/">Blog</a></li><li > <a href="/faq">常见问题</a></li><li > <a href="/team">团队</a></li><li class="dropdown "> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">友情链接 <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li > <a href="https://docschina.org/">印记中文</a></li><li > <a href="https://vuefe.cn/">Vue.js 中文</a></li><li > <a href="https://doc.react-china.org/">React.js 中文</a></li><li > <a href="https://rollupjs.org/zh">rollup.js 中文</a></li><li > <a href="http://nodejs.cn/">Node.js 中文</a></li><li > <a href="https://doc.webpack-china.org/">webpack 中文</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right nav-social"><li> <a href="https://opencollective.com/babel">赞助</a></li><li> <a href="https://discuss.babeljs.io">论坛</a></li><li> <a href="https://slack.babeljs.io/" title="Join us on Slack"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><rect x="219.27" y="221.3" width="72.04" height="69.58" transform="translate(-67.42 94.64) rotate(-18.52)"/><path d="M489.84,185.3C437,9.29,360.9-31.64,184.9,21.16S-32,150.1,20.76,326.1,149.7,543,325.7,490.24,542.64,361.3,489.84,185.3ZM401,299.5l-33.15,11.05,11.46,34.38c4.5,13.92-2.87,29.06-16.78,33.56-2.87.82-6.14,1.64-9,1.23a27.32,27.32,0,0,1-24.56-18l-11.46-34.38-68.36,22.92,11.46,34.38c4.5,13.92-2.87,29.06-16.78,33.56-2.87.82-6.14,1.64-9,1.23a27.32,27.32,0,0,1-24.56-18L198.81,367l-33.15,11.05c-2.87.82-6.14,1.64-9,1.23a27.32,27.32,0,0,1-24.56-18c-4.5-13.92,2.87-29.06,16.78-33.56L182,316.69l-22.1-65.9-33.15,11.05c-2.87.82-6.14,1.64-9,1.23a27.32,27.32,0,0,1-24.56-18C88.71,231.14,96.08,216,110,211.49l33.15-11.05-11.46-34.38c-4.5-13.92,2.87-29.06,16.78-33.56s29.06,2.87,33.56,16.78l11.46,34.38,68.36-22.92-11.46-34.38c-4.5-13.92,2.87-29.06,16.78-33.56s29.06,2.87,33.56,16.78L312.2,144l33.15-11.05c13.92-4.5,29.06,2.87,33.56,16.78s-2.87,29.06-16.78,33.56L329,194.3l22.1,65.9,33.15-11.05c13.92-4.5,29.06,2.87,33.56,16.78S414.93,295,401,299.5Z" transform="translate(0.7 0.3)"/></svg> </a></li><li> <a href="https://twitter.com/babeljs" title="Follow us on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 416.32"><title>twitter</title><path d="M160.83,464.16c193.2,0,298.92-160.22,298.92-298.92,0-4.51,0-9-.2-13.52A214,214,0,0,0,512,97.22a212.93,212.93,0,0,1-60.44,16.6,105.7,105.7,0,0,0,46.3-58.19A209,209,0,0,1,431.07,81a105.09,105.09,0,0,0-181.73,71.91,116.12,116.12,0,0,0,2.66,24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48,105.48,0,0,0,68,207.44a106.27,106.27,0,0,1-47.53-13.11v1.43a105.28,105.28,0,0,0,84.21,103.06,105.67,105.67,0,0,1-47.33,1.84,105.06,105.06,0,0,0,98.14,72.94A210.72,210.72,0,0,1,25,418.68a202.17,202.17,0,0,1-25-1.43,298.85,298.85,0,0,0,160.83,46.92" transform="translate(0 -47.84)" fill="#010101"/></svg> </a></li><li> <a href="https://github.com/babel/babel" title="Contribute on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 499.36"><path d="M256,6.32c-141.36,0-256,114.61-256,256,0,113.09,73.34,209,175.08,242.9,12.8,2.35,17.47-5.56,17.47-12.34,0-6.08-.22-22.18-.35-43.54C121,464.83,106,415,106,415c-11.64-29.57-28.42-37.45-28.42-37.45C54.31,361.71,79.31,362,79.31,362c25.69,1.81,39.21,26.38,39.21,26.38,22.84,39.12,59.92,27.82,74.5,21.27,2.33-16.54,8.94-27.82,16.25-34.22C152.43,369,92.67,347,92.67,248.94c0-27.95,10-50.8,26.35-68.69-2.63-6.48-11.42-32.5,2.51-67.75,0,0,21.49-6.88,70.4,26.24a242.65,242.65,0,0,1,128.18,0c48.87-33.13,70.33-26.24,70.33-26.24,14,35.25,5.18,61.27,2.55,67.75,16.41,17.9,26.31,40.75,26.31,68.69,0,98.35-59.85,120-116.88,126.32,9.19,7.9,17.38,23.53,17.38,47.41,0,34.22-.31,61.83-.31,70.23,0,6.85,4.61,14.81,17.6,12.31C438.72,471.29,512,375.4,512,262.34,512,120.94,397.37,6.32,256,6.32Z" transform="translate(0 -6.32)" fill="#191717" fill-rule="evenodd"/></svg> </a></li></ul><label for="babel-toggle-search" class="navbar-toggle babel-toggle-search-open"> <span class="sr-only">打开搜索</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span> </label><div class="navbar-form navbar-right babel-search" role="search"><div class="input-group"> <label class="sr-only" aria-label="Search" for="babel-search-input">搜索</label><div class="babel-search-input-wrapper"> <input type="text" class="form-control" id="babel-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="在文档中搜索..."> <label for="babel-toggle-search" class="babel-toggle-search-close"> <span class="sr-only">关闭搜索</span> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> </label></div></div></div></nav></div></header><div class="docs-header"><div class="container"><div class="row"><div class="col-md-6 col-md-push-3 text-center"><h1>5.0.0 Released</h1></div></div></div></div><div class="container"><div class="row"><div class="col-md-8 col-md-push-2 babel-blog-content"><p class="small text-center text-muted">Posted Mar 31, 2015 by <a href="https://twitter.com/sebmck">Sebastian McKenzie</a></p><p>In the past few months Babel has been welcomed into several major communities such as Node, React, Ember, Backbone, Angular, Rails, and many others. We launched the <a href="/users">Users page</a> only a few weeks ago and it’s really cool to see everyone that is using it. Companies like CloudFlare, Netflix, Mozilla, and Yahoo!. Projects like Ghost, Atom, Mapbox, and so many more.</p><p>We’ve seen tons of blog posts, talks, events, courses all about ES6+ using Babel, and official Babel tools have been downloaded nearly 2 million times.</p><p>Today we are making by far the largest release of Babel ever.</p><p><strong>If you’re upgrading from Babel 4.x please see the <a href="#breaking-changes">breaking changes</a></strong>.</p><p>This release includes the new ES7 proposals:</p><ul><li><a href="https://github.com/wycats/javascript-decorators">Decorators</a></li><li><a href="https://gist.github.com/jeffmo/054df782c05639da2adb">Class properties</a></li><li><a href="https://github.com/leebyron/ecmascript-more-export-from">Export extensions</a></li></ul><p>The entire internal traversal and transformation pipeline has undergone a rewrite that substantially increases flexibility and will allow many future pipeline performance optimisations.</p><p>This release also brings a plugin API, this allows consumers to plug in their own custom transformers to utilise the powerful transformation mechanisms that Babel has to offer.</p><p>You can view the complete CHANGELOG <a href="https://github.com/babel/babel/blob/master/CHANGELOG.md#500">here</a>.</p><p>And as usual <strong>if you run into any regressions please report them immediately</strong>.</p><h3 id="tc39-process">TC39 Process</h3><p>In this release you’ll start to see us aligned with the <a href="https://docs.google.com/document/d/1QbEE0BsO4lvl7NFTn5WXWeiEIBfaVUF7Dk0hpPpPDzU">TC39 process</a>. The TC39 is the technical committee from ECMA that writes the ECMAScript standard. Their process is categorised into 5 stages:</p><ul><li>Stage 0 - Strawman</li><li>Stage 1 - Proposal</li><li>Stage 2 - Draft</li><li>Stage 3 - Candidate</li><li>Stage 4 - Finished</li></ul><p>Proposals that are <strong>stage 2 or above</strong> are enabled in Babel by default. Now this does not mean that they’re guaranteed to be included in future ECMAScript specifications or even Babel itself. Stage 2 is considered a good point for inclusion by default in Babel due to their relative maturity and need for critical proposal feedback.</p><p>Now let’s dive into the changes we made to 5.0.</p><hr /><p><strong>Contents:</strong></p><ul><li><a href="#new-features">New Features</a><ul><li><a href="#new-proposals">New Proposals</a><ul><li><a href="#stage-0:-class-properties">Stage 0: Class Properties</a></li><li><a href="#stage-1:-decorators">Stage 1: Decorators</a></li><li><a href="#stage-1:-export-extensions">Stage 1: Export Extensions</a></li></ul></li><li><a href="#react-optimisations">React Optimisations</a><ul><li><a href="#constant-elements">Constant Elements</a></li><li><a href="#inline-elements">Inline Elements</a></li></ul></li><li><a href="#babelrc">.babelrc</a></li><li><a href="#plugin-api">Plugin API</a></li></ul></li><li><a href="#breaking-changes">Breaking Changes</a><ul><li><a href="#experimental-option">Experimental Option</a></li><li><a href="#class-changes">Class Changes</a></li><li><a href="#removed-features">Removed Features</a></li><li><a href="#imports-are-now-hoisted">imports are now hoisted</a></li></ul></li></ul><h1 id="new-features" class="babel-blog-section-title">New Features</h1><h2 id="new-proposals">New Proposals</h2><h3 id="stage-0-class-properties">Stage 0: Class Properties</h3><p><a href="https://github.com/jeffmo">Jeff Morrison’s</a> stage 0 <a href="https://gist.github.com/jeffmo/054df782c05639da2adb">class property initializers proposal</a> fills the void of property composition on classes. These are analogous with the class properties example listed in the <a href="https://facebook.github.io/react/blog/2015/01/27/react-v0.13.0-beta-1.html#es7-property-initializers">React 0.13 beta announcement</a>.</p><p><strong>Example:</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="nx">firstName</span> <span class="o">=</span> <span class="s2">"Sebastian"</span><span class="p">;</span>
  <span class="kr">static</span> <span class="nx">lastName</span> <span class="o">=</span> <span class="s2">"McKenzie"</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">assert</span><span class="p">(</span><span class="k">new</span> <span class="nx">Person</span><span class="p">().</span><span class="nx">firstName</span><span class="p">,</span> <span class="s2">"Sebastian"</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">(</span><span class="nx">Person</span><span class="p">.</span><span class="nx">lastName</span><span class="p">,</span> <span class="s2">"McKenzie"</span><span class="p">);</span>
</code></pre></div><p><strong>Usage:</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">optional</span><span class="p">:</span> <span class="p">[</span><span class="s2">"es7.classProperties"</span><span class="p">]</span>
<span class="p">});</span>
<span class="c1">// or</span>
<span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span> <span class="na">stage</span><span class="p">:</span> <span class="mi">0</span> <span class="p">});</span>
</code></pre></div><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel --optional es7.classProperties script.js
<span class="c"># or</span>
<span class="gp">$ </span>babel --stage 0 script.js
</code></pre></div><h3 id="stage-1-decorators">Stage 1: Decorators</h3><p><a href="https://github.com/wycats">Yehuda Katz’</a> stage 1 <a href="https://github.com/wycats/javascript-decorators">decorators proposal</a> allows you to elegantly compose property descriptors and metadata decoration. In the future this will allow the powerful <a href="http://guides.emberjs.com/v1.10.0/object-model/classes-and-instances/">Ember Object Model</a> to easily be represented with native classes.</p><p><strong>Example:</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">concat</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">sep</span> <span class="o">=</span> <span class="nx">args</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>

  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">descriptor</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">descriptor</span><span class="p">.</span><span class="nx">initializer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">args</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">arg</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">[</span><span class="nx">arg</span><span class="p">]).</span><span class="nx">join</span><span class="p">(</span><span class="nx">sep</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">autobind</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">descriptor</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="k">delete</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
  <span class="k">delete</span> <span class="nx">descriptor</span><span class="p">.</span><span class="nx">writable</span><span class="p">;</span>
  <span class="nx">descriptor</span><span class="p">.</span><span class="nx">get</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bound</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">configurable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">writable</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">value</span><span class="p">:</span> <span class="nx">bound</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">bound</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Person</span> <span class="p">{</span>
  <span class="nx">firstName</span> <span class="o">=</span> <span class="s2">"Sebastian"</span><span class="p">;</span>
  <span class="nx">lastName</span> <span class="o">=</span> <span class="s2">"McKenzie"</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">concat</span><span class="p">(</span><span class="s2">"firstName"</span><span class="p">,</span> <span class="s2">"lastName"</span><span class="p">,</span> <span class="s2">" "</span><span class="p">)</span> <span class="nx">fullName</span><span class="p">;</span>
  <span class="err">@</span><span class="nx">concat</span><span class="p">(</span><span class="s2">"lastName"</span><span class="p">,</span> <span class="s2">"firstName"</span><span class="p">,</span> <span class="s2">", "</span><span class="p">)</span> <span class="nx">formalName</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">autobind</span>
  <span class="nx">getFullName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="p">}</span> <span class="nx">$</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">}</span><span class="err">`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">assert</span><span class="p">(</span><span class="k">new</span> <span class="nx">Person</span><span class="p">().</span><span class="nx">fullName</span><span class="p">,</span> <span class="s2">"Sebastian McKenzie"</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">(</span><span class="k">new</span> <span class="nx">Person</span><span class="p">().</span><span class="nx">formalName</span><span class="p">,</span> <span class="s2">"McKenzie, Sebastian"</span><span class="p">);</span>
<span class="nx">assert</span><span class="p">(</span><span class="k">new</span> <span class="nx">Person</span><span class="p">().</span><span class="nx">getFullName</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span> <span class="s2">"Sebastian McKenzie"</span><span class="p">);</span>
</code></pre></div><p><strong>Usage:</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">optional</span><span class="p">:</span> <span class="p">[</span><span class="s2">"es7.decorators"</span><span class="p">]</span>
<span class="p">});</span>
<span class="c1">// or</span>
<span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span> <span class="na">stage</span><span class="p">:</span> <span class="mi">1</span> <span class="p">});</span>
</code></pre></div><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel --optional es7.decorators script.js
<span class="c"># or</span>
<span class="gp">$ </span>babel --stage 1 script.js
</code></pre></div><h3 id="stage-1-export-extensions">Stage 1: Export Extensions</h3><p><a href="https://github.com/leebyron">Lee Byron’s</a> stage 1 <a href="https://github.com/leebyron/ecmascript-more-export-from">additional export-from statements proposal</a> completes the symmetry between import and export statement, allowing you to easily export namespaces and defaults from external modules without modifying the local scope.</p><p><strong>Exporting a default</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="nx">foo</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
</code></pre></div><p>equivalent to:</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">_foo</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">_foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">};</span>
</code></pre></div><p><strong>Exporting a namespace</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">ns</span> <span class="nx">from</span> <span class="s2">"mod"</span><span class="p">;</span>
</code></pre></div><p>equivalent to:</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">_ns</span> <span class="nx">from</span> <span class="s2">"mod"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">_ns</span> <span class="nx">as</span> <span class="nx">ns</span> <span class="p">};</span>
</code></pre></div><p><strong>Usage:</strong></p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">optional</span><span class="p">:</span> <span class="p">[</span><span class="s2">"es7.exportExtensions"</span><span class="p">]</span>
<span class="p">});</span>
<span class="c1">// or</span>
<span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span> <span class="na">stage</span><span class="p">:</span> <span class="mi">1</span> <span class="p">});</span>
</code></pre></div><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel --optional es7.exportExtensions script.js
<span class="c"># or</span>
<span class="gp">$ </span>babel --stage 1 script.js
</code></pre></div><h2 id="react-optimisations">React Optimisations</h2><p>In preparation for React 0.14, Babel supports some optimisation transformers for JSX.</p><h3 id="constant-elements"><a href="https://github.com/facebook/react/issues/3226">Constant Elements</a></h3><p>Starting with 0.14 ReactElements and their props objects can be treated as value types. i.e. any instance is conceptually equivalent if all their values are the same.</p><p>Take this function for example:</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">"react"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"foo"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>This can be optimized by moving the JSX out of the function body so that each time it is called the same instance is returned:</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">"react"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">_ref</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"foo"</span> <span class="o">/&gt;</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">_ref</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>Not only does it allow us to reuse the same objects, React will automatically bail out any reconciliation of constant components - without a manual <code class="highlighter-rouge">shouldComponentUpdate</code>.</p><p><strong>Usage:</strong></p><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">optional</span><span class="p">:</span> <span class="p">[</span><span class="s2">"optimisation.react.constantElements"</span><span class="p">]</span>
<span class="p">});</span>
</code></pre></div><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel --optional optimisation.react.constantElements script.js
</code></pre></div><h3 id="inline-elements"><a href="https://github.com/facebook/react/issues/3228">Inline Elements</a></h3><blockquote class="babel-callout babel-callout-warning"><h4>Production only</h4><p> Inline Elements should <strong>only</strong> be enabled in production as multiple React warning messages are suppressed which is extremely risky in development.</p></blockquote><p>Starting with React 0.14 ReactElements can be inlined:</p><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">"foo"</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">bar</span><span class="p">}</span><span class="o">&lt;</span><span class="nx">Baz</span> <span class="nx">key</span><span class="o">=</span><span class="s2">"baz"</span> <span class="o">/&gt;&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span></code></pre></div><p>as objects:</p><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="p">{</span> <span class="nl">type</span><span class="p">:</span> <span class="s1">'div'</span><span class="p">,</span> <span class="nx">props</span><span class="err">:</span> <span class="p">{</span> <span class="nl">className</span><span class="p">:</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="nx">children</span><span class="err">:</span>
  <span class="p">[</span> <span class="nx">bar</span><span class="p">,</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">Baz</span><span class="p">,</span> <span class="na">props</span><span class="p">:</span> <span class="p">{</span> <span class="p">},</span> <span class="na">key</span><span class="p">:</span> <span class="s1">'baz'</span><span class="p">,</span> <span class="na">ref</span><span class="p">:</span> <span class="kc">null</span> <span class="p">}</span> <span class="p">]</span>
<span class="p">},</span> <span class="nx">key</span><span class="err">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">ref</span><span class="err">:</span> <span class="kc">null</span> <span class="p">}</span>
</code></pre></div><p>This improves performance over the existing <code class="highlighter-rouge">React.createElement</code> call by inlining the result of it.</p><p><strong>Usage:</strong></p><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">require</span><span class="p">(</span><span class="s2">"babel"</span><span class="p">).</span><span class="nx">transform</span><span class="p">(</span><span class="s2">"code"</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">optional</span><span class="p">:</span> <span class="p">[</span><span class="s2">"optimisation.react.inlineElements"</span><span class="p">]</span>
<span class="p">});</span>
</code></pre></div><div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>babel --optional optimisation.react.inlineElements script.js
</code></pre></div><h2 id="babelrc">.babelrc</h2><p>Babel 5.0.0 has support for <code class="highlighter-rouge">.babelrc</code> out of the box across its <strong>entire</strong> range of integrations. This means that it will work across <a href="/docs/usage/register"><code class="highlighter-rouge">babel/register</code></a>, <a href="/docs/usage/cli#babel-node"><code class="highlighter-rouge">babel-node</code></a> as well as across the entire range of build system plugins and module loaders such as <a href="https://github.com/babel/babel-loader"><code class="highlighter-rouge">babel-loader</code></a>, <a href="https://github.com/babel/babelify"><code class="highlighter-rouge">babelify</code></a>, and others.</p><p><code class="highlighter-rouge">.babelrc</code> is equivalent to JSHint’s <a href="http://jshint.com/docs/"><code class="highlighter-rouge">.jshintrc</code></a> and JSCS’ <a href="http://jscs.info/overview.html"><code class="highlighter-rouge">.jscsrc</code></a>.</p><div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"foo.js"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bar/**/*.js"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><p>See the <a href="/docs/usage/babelrc">docs</a> for more info.</p><h2 id="plugin-api">Plugin API</h2><p>5.0.0 also introduces the long anticipated plugin API. This allows you to hook into the powerful traversal and transformation internals of Babel. See the <a href="/docs/usage/plugins">docs</a> for more info.</p><h1 id="breaking-changes" class="babel-blog-section-title">Breaking Changes</h1><h3 id="experimental-option">Experimental Option</h3><p>The <code class="highlighter-rouge">experimental</code> option has been <strong>removed</strong>. Fear not though, there is a replacement. Babel now categories the ES7 transformers by <a href="#tc39-changes">TC39 stages</a>.</p><p>tl;dr If you’re using the <code class="highlighter-rouge">experimental</code> option, simply change it to <code class="highlighter-rouge">$ babel --stage 0</code> or <code class="highlighter-rouge"><span class="p">{</span><span class="w"> </span><span class="err">stage:</span><span class="w"> </span><span class="err">0</span><span class="w"> </span><span class="p">}</span></code>.</p><blockquote><p><strong>Reminder:</strong> Proposals that are <strong>stage 2 or above</strong> are enabled by default.</p></blockquote><p><strong>Stage 0</strong></p><ul><li><code class="highlighter-rouge">es7.classProperties</code></li><li><code class="highlighter-rouge">es7.comprehensions</code></li></ul><p><strong>Stage 1</strong></p><ul><li><code class="highlighter-rouge">es7.asyncFunctions</code></li><li><code class="highlighter-rouge">es7.decorators</code></li><li><code class="highlighter-rouge">es7.exportExtensions</code></li><li><code class="highlighter-rouge">es7.objectRestSpread</code></li></ul><p><strong>Stage 2</strong> (Stage 2 and above are enabled by default)</p><ul><li><code class="highlighter-rouge">es7.exponentiationOperator</code></li></ul><p>For a list of all current ES7 proposals please see the <a href="https://github.com/tc39/ecma262">tc39/ecma262 repo</a>.</p><h3 id="returnusedhelpers-option"><code class="highlighter-rouge">returnUsedHelpers</code> option</h3><p>The <code class="highlighter-rouge">returnUsedHelpers</code> option has been renamed to <code class="highlighter-rouge">metadataUsedHelpers</code> and the returning result object has been changed from <code class="highlighter-rouge">usedHelpers</code> to <code class="highlighter-rouge">metadata.usedHelpers</code>.</p><h3 id="class-changes">Class Changes</h3><p>5.0.0 introduces some updated derived class semantics that are long overdue.</p><p><code class="highlighter-rouge">super()</code> <strong>must</strong> be called in a derived class constructor.</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Foo</span> <span class="kr">extends</span> <span class="nx">Bar</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// no `super();`</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Access to <code class="highlighter-rouge">this</code> before <code class="highlighter-rouge">super()</code> in a derived class constructor is <strong>not</strong> allowed.</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Foo</span> <span class="kr">extends</span> <span class="nx">Bar</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span> <span class="c1">// `this` access before `super();`</span>
    <span class="kr">super</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p><code class="highlighter-rouge">super()</code> is <strong>only</strong> allowed in derived class constructors.</p><div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span> <span class="c1">// not in a derived constructor</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h2 id="removed-features">Removed Features</h2><ul><li>The playground has been removed so development can be focussed on mainstream ES features and proposals. This also reduces the risk of syntactic conflicts preventing certain official features from being implemented.</li><li><a href="https://github.com/zenparsing/es-abstract-refs">Abstract references</a> have been removed as the proposal has been superseded. Support for one or more of the superseding proposals may be implemented in the future.</li></ul><hr /><p>In closing, we hope that you are now as excited about this release as we are. There’s a lot that went into it, and we believe this will set us up for a long time into the future.</p><p class="text-right">— The Babel team</p><h2 id="imports-are-now-hoisted">Imports are now hoisted</h2><p>In <code class="highlighter-rouge">4.x</code>, imports were inlined as where they appeared in the code. Which means that this code:</p><div class="highlighter-rouge"><pre class="highlight"><code>global.test = 'test'
import './test'
</code></pre></div><p>would compile to:</p><div class="highlighter-rouge"><pre class="highlight"><code>'use strict';

global.test = 'test';
require('./test');
</code></pre></div><p>However, from <code class="highlighter-rouge">5.x</code> on, this behaviour has been changed in order to comply with the ES6 spec and <em><a href="https://gitter.im/babel/babel?at=5525474d80f7bb0315a369ce">imports will</a> <a href="https://stackoverflow.com/questions/29329662/are-es6-module-imports-hoisted">now be hoisted</a></em>. What this means in practical code is that the snippet above will get converted to something like:</p><div class="highlighter-rouge"><pre class="highlight"><code>'use strict';

require('./test');
global.test = 'test';
</code></pre></div><p>If your code required certain bits and pieces to be executed in between a specific module being imported -which might be the case while testing code and you need to fake some <code class="highlighter-rouge">window</code> properties :)- you may want to extract that away into its own file and import it before the code that needs it.</p><h2 id="community-discussion">Community Discussion</h2><div id="discourse-comments"></div><script type="text/javascript"> DiscourseEmbed = { discourseUrl: 'https://discuss.babeljs.io/', discourseEmbedUrl: 'https://babeljs.io/blog/2015/03/31/5.0.0.html'}; (function() { var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true; d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d); })(); </script></div></div></div><div class="footer text-center"><p><a href="https://github.com/babel/babel">Babel</a> · <a href="https://github.com/babel/babel/blob/master/LICENSE">Distributed under MIT License</a> · <a href="https://github.com/babel/babel/blob/master/CODE_OF_CONDUCT.md">Code of Conduct</a></p><p><a href="http://henryzoo.com/babel.github.io/">Looking for Babel 5.x docs?</a> · Found an issue with the docs? Report it <a href="https://github.com/babel/babel.github.io/issues/new">here</a>.</p></div><script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js' defer></script> <script src='//cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.3/lodash.min.js' defer></script> <script src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.1/js/bootstrap.min.js' defer></script> <script src='https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.13/clipboard.min.js' defer></script> <script src='https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js' defer></script> <script src='/scripts/search.js' defer></script> <script src='/scripts/clipboard.js' defer></script> <script src='/scripts/open-in-repl.js' defer></script> <script> document.addEventListener('DOMContentLoaded', function() { $("html").removeClass("no-js").addClass("js"); }); </script></body></html>
